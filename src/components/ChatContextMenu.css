:root {
  --neon-menu-hue1: 255;
  --neon-menu-hue2: 222;
  --neon-menu-border-size: 1px;
  --neon-menu-border-color: hsl(var(--neon-menu-hue2) 12% 20%);
  --neon-menu-radius: 22px;
  --neon-menu-ease: cubic-bezier(0.5, 1, 0.89, 1);
}

.neon-context-menu-trigger {
  display: contents;
}

.neon-context-menu {
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
  transition-property: visibility, opacity, filter;
  transition-duration: 0s, 0.25s, 0.25s;
  transition-delay: 0.5s, 0s, 0s;
  transition-timing-function: var(--neon-menu-ease);
  filter: blur(4px);

  font-family: 'Asap', sans-serif;
  color: #737985;

  position: fixed;
  top: 140px;
  left: 2svw;
  min-width: 275px;
  min-height: 275px;
  border-radius: var(--neon-menu-radius);
  border: var(--neon-menu-border-size) solid var(--neon-menu-border-color);
  padding: 1em;
  background:
    linear-gradient(235deg, hsl(var(--neon-menu-hue1) 50% 10% / 0.8), hsl(var(--neon-menu-hue1) 50% 10% / 0) 33%),
    linear-gradient(45deg, hsl(var(--neon-menu-hue2) 50% 10% / 0.8), hsl(var(--neon-menu-hue2) 50% 10% / 0) 33%),
    linear-gradient(hsl(220deg 25% 4.8% / 0.66));
  backdrop-filter: blur(12px);
  box-shadow:
    hsl(var(--neon-menu-hue2) 50% 2%) 0px 10px 16px -8px,
    hsl(var(--neon-menu-hue2) 50% 4%) 0px 20px 36px -14px;
  z-index: 1000;
}

.neon-context-menu:not(.open)::before,
.neon-context-menu:not(.open)::after,
.neon-context-menu:not(.open) .glow {
  opacity: 0;
  pointer-events: none;
  animation: glowoff 0.25s var(--neon-menu-ease) both;
}

.neon-context-menu.open {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
  transition-delay: 0s;
  filter: blur(0px);
}

.neon-context-menu.open::before,
.neon-context-menu.open::after,
.neon-context-menu.open .glow,
.neon-context-menu.open .shine {
  animation: glow 1s var(--neon-menu-ease) both;
}

.neon-context-menu.open .shine {
  animation-delay: 0s;
  animation-duration: 2s;
}

.neon-context-menu.open .glow {
  animation-delay: 0.2s;
}

.neon-context-menu.open .glow-bright {
  animation-delay: 0.1s;
  animation-duration: 1.5s;
}

.neon-context-menu.open .shine-bottom {
  animation-delay: 0.1s;
  animation-duration: 1.8s;
}

.neon-context-menu.open .glow-bottom {
  animation-delay: 0.3s;
}

.neon-context-menu.open .glow-bright.glow-bottom {
  animation-delay: 0.3s;
  animation-duration: 1.1s;
}

.neon-context-menu .shine,
.neon-context-menu .glow {
  --hue: var(--neon-menu-hue1);
}

.neon-context-menu .shine-bottom,
.neon-context-menu .glow-bottom {
  --hue: var(--neon-menu-hue2);
  --conic: 135deg;
}

.neon-context-menu .shine,
.neon-context-menu .shine::before,
.neon-context-menu .shine::after {
  pointer-events: none;
  border-radius: 0;
  border-top-right-radius: inherit;
  border-bottom-left-radius: inherit;
  border: 1px solid transparent;
  width: 75%;
  height: auto;
  min-height: 0px;
  aspect-ratio: 1;
  display: block;
  position: absolute;
  right: calc(var(--neon-menu-border-size) * -1);
  top: calc(var(--neon-menu-border-size) * -1);
  left: auto;
  z-index: 1;
  --start: 12%;
  background: conic-gradient(
    from var(--conic, -45deg) at center in oklch,
    transparent var(--start, 0%),
    hsl(var(--hue) var(--sat, 80%) var(--lit, 60%)),
    transparent var(--end, 50%)
  ) border-box;

  mask:
    linear-gradient(transparent),
    linear-gradient(black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
}

.neon-context-menu .shine::before,
.neon-context-menu .shine::after {
  content: "";
  width: auto;
  inset: -2px;
  mask: none;
}

.neon-context-menu .shine::after {
  z-index: 2;
  --start: 17%;
  --end: 33%;
  background: conic-gradient(
    from var(--conic, -45deg) at center in oklch,
    transparent var(--start, 0%),
    hsl(var(--hue) var(--sat, 80%) var(--lit, 85%)),
    transparent var(--end, 50%)
  );
}

.neon-context-menu .shine-bottom {
  top: auto;
  bottom: calc(var(--neon-menu-border-size) * -1);
  left: calc(var(--neon-menu-border-size) * -1);
  right: auto;
}

.neon-context-menu .glow {
  pointer-events: none;
  border-top-right-radius: calc(var(--neon-menu-radius) * 2.5);
  border-bottom-left-radius: calc(var(--neon-menu-radius) * 2.5);
  border: calc(var(--neon-menu-radius) * 1.25) solid transparent;
  inset: calc(var(--neon-menu-radius) * -2);
  width: 75%;
  height: auto;
  min-height: 0px;
  aspect-ratio: 1;
  display: block;
  position: absolute;
  left: auto;
  bottom: auto;
  mask: url('https://assets.codepen.io/13471/noise-base.png');
  mask-mode: luminance;
  mask-size: 29%;
  opacity: 1;
  filter: blur(12px) saturate(1.25) brightness(0.5);
  mix-blend-mode: plus-lighter;
  z-index: 3;
}

.neon-context-menu .glow.glow-bottom {
  inset: calc(var(--neon-menu-radius) * -2);
  top: auto;
  right: auto;
}

.neon-context-menu .glow::before,
.neon-context-menu .glow::after {
  content: "";
  position: absolute;
  inset: 0;
  border: inherit;
  border-radius: inherit;
  background: conic-gradient(
    from var(--conic, -45deg) at center in oklch,
    transparent var(--start, 0%),
    hsl(var(--hue) var(--sat, 95%) var(--lit, 60%)),
    transparent var(--end, 50%)
  ) border-box;
  mask:
    linear-gradient(transparent),
    linear-gradient(black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  filter: saturate(2) brightness(1);
}

.neon-context-menu .glow::after {
  --lit: 70%;
  --sat: 100%;
  --start: 15%;
  --end: 35%;
  border-width: calc(var(--neon-menu-radius) * 1.75);
  border-radius: calc(var(--neon-menu-radius) * 2.75);
  inset: calc(var(--neon-menu-radius) * -0.25);
  z-index: 4;
  opacity: 0.75;
}

.neon-context-menu .glow-bright {
  --lit: 80%;
  --sat: 100%;
  --start: 13%;
  --end: 37%;
  border-width: 5px;
  border-radius: calc(var(--neon-menu-radius) + 2px);
  inset: -7px;
  left: auto;
  filter: blur(2px) brightness(0.66);
}

.neon-context-menu .glow-bright.glow-bottom {
  inset: -7px;
  right: auto;
  top: auto;
}

.neon-context-menu .glow::after {
  --start: 15%;
  --end: 35%;
}

.neon-context-menu .glow.glow-bottom::after {
  --conic: 225deg;
}

.neon-context-menu .glow-bright.glow-bottom {
  --conic: 225deg;
}

.neon-context-menu .inner,
.neon-context-menu section {
  display: flex;
  flex-direction: column;
  gap: 0.5em;
}

.neon-context-menu .inner {
  font-size: 0.875rem;
}

.neon-context-menu-content {
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 0.75em;
}

.neon-context-menu-title {
  display: flex;
  flex-direction: column;
  gap: 0.25em;
  color: color-mix(in oklab, var(--neon-menu-foreground, #f9fbff) 70%, hsl(var(--neon-menu-hue1) 50% 50%));
}

.neon-context-menu-title h2 {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: 0.015em;
}

.neon-context-menu-title p {
  margin: 0;
  font-size: 0.75rem;
  font-weight: 300;
  color: color-mix(in oklab, var(--neon-menu-foreground, #f9fbff) 40%, hsl(var(--neon-menu-hue2) 50% 50%));
}

.neon-context-menu hr {
  width: 100%;
  height: 0.5px;
  background: var(--neon-menu-border-color);
  border: none;
  margin: 0.5em 0;
  opacity: 0.66;
}

.neon-context-menu label {
  display: grid;
  grid-template: 1fr / 1fr;
  width: 100%;
  margin-bottom: 0.5em;
}

.neon-context-menu label > * {
  grid-area: 1 / 1;
  align-self: center;
}

.neon-context-menu label svg {
  margin-left: 0.5em;
  opacity: 0.5;
}

.neon-context-menu .search svg {
  transition: stroke 0.3s var(--neon-menu-ease);
}

.neon-context-menu .search svg:has(+ input:focus) {
  stroke: hsl(var(--neon-menu-hue1) 60% 70% / 1);
}

.neon-context-menu input[type="text"] {
  --tint2: hsl(var(--neon-menu-hue2) 50% 90% / 0.1);
  color: hsl(0 0 100% / 0.65);
  font-family: 'Asap', sans-serif;
  font-weight: 300;
  box-shadow: 0 0 0 1px transparent;
  border: 1px solid hsl(var(--neon-menu-hue2) 13% 18.5% / 0.5);
  background:
    linear-gradient(to bottom, hsl(var(--neon-menu-hue1) 20% 20% / 0.1) 50%, hsl(var(--neon-menu-hue1) 50% 50% / 0.8) 180%);
  background-size: 100% 300%;
  background-position: 0% 0%;
  background-repeat: no-repeat;
  border-radius: calc(var(--neon-menu-radius) * 0.33333);
  padding: 0.65em 0.75em 0.65em 2.4em;
  transition: all 0.3s var(--neon-menu-ease);
  font-size: 0.875rem;
}

.neon-context-menu input[type="text"]:focus {
  border-color: hsl(var(--neon-menu-hue1) 20% 70% / 0.5);
  background-position: 0% 50%;
  color: hsl(var(--neon-menu-hue1) 20% 80% / 1);
  outline: none;
}

.neon-context-menu input[type="text"]::placeholder {
  color: hsl(0 0 100% / 0.8);
}

.neon-context-menu header {
  font-size: 0.75rem;
  font-weight: 300;
  padding: 0 0.66em;
  color: hsl(0 0% 90% / 0.7);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.neon-context-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25em;
}

.neon-context-menu li {
  --item-hue: var(--neon-menu-hue2);
  position: relative;
  padding: 0.66em;
  height: 36px;
  display: flex;
  align-items: center;
  gap: 0.55em;
  border-radius: calc(var(--neon-menu-radius) * 0.33333);
  border: 1px solid transparent;
  transition: all 0.3s ease-in, --item-opacity 0.3s ease-in;
  background:
    linear-gradient(
      90deg in oklch,
      hsl(var(--item-hue) 29% 13% / var(--item-opacity)),
      hsl(var(--item-hue) 30% 15% / var(--item-opacity)) 24% 32%,
      hsl(var(--item-hue) 5% 7% / 0) 95%
    ) border-box;
  color: hsl(0 0% 82% / 0.9);
  cursor: pointer;
}

.neon-context-menu li::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: inherit;
  background:
    linear-gradient(
      90deg in oklch,
      hsl(var(--item-hue) 15% 16% / var(--item-opacity)),
      hsl(var(--item-hue) 40% 24% / var(--item-opacity)) 20% 32%,
      hsl(var(--item-hue) 2% 12% / 0) 95%
    ) border-box;
  mask:
    linear-gradient(transparent),
    linear-gradient(to right, black, transparent);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  transition: inherit;
}

.neon-context-menu li svg {
  flex-shrink: 0;
  height: 20px;
  width: 20px;
  stroke-width: 1.5px;
}

.neon-context-menu li span {
  flex: 1;
  font-size: 0.85rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.neon-context-menu li .meta {
  font-size: 0.7rem;
  opacity: 0.6;
}

.neon-context-menu li:hover,
.neon-context-menu li.selected,
.neon-context-menu li:focus,
.neon-context-menu li:hover::after,
.neon-context-menu li.selected::after,
.neon-context-menu li:focus::after {
  --item-opacity: 0.5;
  transition: all 0.1s ease-out, --item-opacity 0.1s ease-out;
  color: white;
  outline: none;
}

.neon-context-menu li.selected,
.neon-context-menu li.selected::after {
  animation: flash 0.75s ease-out 1 forwards;
}

.neon-context-menu section:nth-of-type(1) li {
  --item-hue: var(--neon-menu-hue1);
}

.neon-context-menu section.danger li {
  --item-hue: 0;
  color: hsl(0 70% 75% / 0.85);
}

.neon-context-menu section.danger li:hover,
.neon-context-menu section.danger li.selected,
.neon-context-menu section.danger li:focus {
  color: hsl(0 70% 92% / 1);
}

@property --item-opacity {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

.neon-context-menu-footer {
  display: flex;
  flex-direction: column;
  gap: 0.75em;
  margin-top: 0.75em;
  padding-top: 0.5em;
}

.neon-context-menu-footer h3 {
  margin: 0;
  font-size: 0.8rem;
  font-weight: 500;
  color: hsl(0 0% 90% / 0.8);
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.neon-context-menu-slider-group {
  display: flex;
  flex-direction: column;
  gap: 0.5em;
}

.neon-context-menu-slider {
  display: flex;
  flex-direction: column;
  gap: 0.25em;
  font-size: 0.75rem;
  color: hsl(0 0% 88% / 0.7);
}

.neon-context-menu-slider input[type="range"] {
  --tint: hsl(var(--neon-menu-hue2) 66% 50%);
  --tint2: hsl(var(--neon-menu-hue1) 66% 50%);
  width: 100%;
  margin: 0;
  appearance: none;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--tint), var(--tint2));
  outline: none;
  box-shadow: inset 0 1px 0 hsl(0 0% 100% / 0.1);
}

.neon-context-menu-slider input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #12141d;
  border: 2px solid hsl(var(--neon-menu-hue1) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue1) 66% 20% / 0.5);
  cursor: pointer;
}

.neon-context-menu-slider input[type="range"]#neon-hue-2::-webkit-slider-thumb {
  border-color: hsl(var(--neon-menu-hue2) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue2) 66% 20% / 0.5);
}

.neon-context-menu-slider input[type="range"]::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #12141d;
  border: 2px solid hsl(var(--neon-menu-hue1) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue1) 66% 20% / 0.5);
  cursor: pointer;
}

.neon-context-menu-slider input[type="range"]#neon-hue-2::-moz-range-thumb {
  border-color: hsl(var(--neon-menu-hue2) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue2) 66% 20% / 0.5);
}

.neon-context-menu-slider input[type="range"]::-ms-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #12141d;
  border: 2px solid hsl(var(--neon-menu-hue1) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue1) 66% 20% / 0.5);
  cursor: pointer;
}

.neon-context-menu-slider input[type="range"]#neon-hue-2::-ms-thumb {
  border-color: hsl(var(--neon-menu-hue2) 66% 50%);
  box-shadow: 0 1px 2px 1px hsl(var(--neon-menu-hue2) 66% 20% / 0.5);
}

.neon-context-menu [data-empty-state] {
  padding: 1em;
  font-size: 0.8rem;
  color: hsl(0 0% 85% / 0.5);
  text-align: center;
}

@keyframes glow {
  0% {
    opacity: 0;
  }
  3% {
    opacity: 1;
  }
  10% {
    opacity: 0;
  }
  12% {
    opacity: 0.7;
  }
  16% {
    opacity: 0.3;
    animation-timing-function: var(--neon-menu-ease);
  }
  100% {
    opacity: 1;
    animation-timing-function: var(--neon-menu-ease);
  }
}

@keyframes glowoff {
  to {
    opacity: 0;
  }
}

@keyframes flash {
  0% {
    opacity: 0;
    --item-opacity: 0;
  }
  7% {
    opacity: 0.5;
    --item-opacity: 1;
  }
  14% {
    opacity: 0;
    --item-opacity: 0.5;
  }
  21%,
  100% {
    opacity: 1;
    --item-opacity: 1;
  }
}

@media (max-width: 640px) {
  .neon-context-menu {
    min-width: min(90svw, 320px);
  }
}
